---
layout: post
title: "Jekyll-1.4.3的一个问题"
category: Computer
date: 2013-06-01
---

<p>重装系统后 <code>gem install jekyll</code> 升级到新版，遇到中文解码问题，报错 &quot;invalid byte sequence in GBK&quot;。</p>

<h2>Jekyll 1.3.0 之前的解决法</h2>

<p>将 <code>convertible.rb</code> 中的</p>

<pre><code>self.content = File.read(File.join(base, name))</code></pre>

<p>改为</p>

<pre><code>self.content = File.read(File.join(base, name), :encoding =&gt; "utf-8")</code></pre>

<p>或在 <code>read_yaml</code> 中为 opts 指定 <code>{:encoding =&gt; "utf-8"}</code>。文件位于 <code>lib/jekyll/convertible.rb</code>。</p>

<h2>Jekyll 1.4.3 的处理</h2>

<p><strong>方法一</strong>：类似 1.3.0，在对应位置添加 UTF-8 编码选项（具体需对照新版源码）。</p>

<p><strong>方法二</strong>：卸载 1.4.3，回退到 1.3.0：</p>

<pre><code>gem uninstall jekyll
gem install jekyll --version "=1.3.0"</code></pre>
